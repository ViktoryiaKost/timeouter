let title = '';
let description = '';
let discount = '';
let theme = 1;
let status = 1;
let duration = 1;
let startDate = 0;

let modalStyle=document.createElement("style");theme?modalStyle.textContent="\n    .timeouter-button-block {\n        position: fixed;\n        transform: rotate(90deg);\n        top: 44%;\n        left: -72px;\n        z-index: 99999999;\n    }\n\n    .timeouter-modal-window {\n        visibility: hidden;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        display: grid;\n        place-items: center;\n        background: rgb(0,0,0,0.4);\n        z-index: 99999999;\n    }\n\n    .timeouter-modal-card {\n        background: white;\n        width: 700px;\n        height: 300px;\n        display: flex;\n        align-item: center;\n        gap: 2rem;\n        border-radius: 30px;\n        padding: 2rem;\n        position: relative;\n        animation: openTimeouter 1s ease forwards;\n        justify-content: space-around;\n        flex-direction: row;\n    }\n\n    .timeouter-modal-button-box {\n        width: 50px;\n        height: 50px;\n        position: fixed;\n        margin-left: 695px;\n        margin-top: -40px;\n        background: #d4d4d4;\n        border-radius: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    }\n\n    .timeouter-modal-button-box:hover {\n        background: #cbcbcb;\n    }\n\n    .timeouter-modal-timer-box {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        max-width: 185px;\n        width: 300px;\n    }\n\n    .timeouter-modal-timer {\n        margin-left: 25px;\n    }\n\n    .timeouter-timer__item {\n        display: flex;\n        justify-content: flex-start;\n    }\n\n    .timeouter-modal-title {\n        font-size: 40px;\n        line-height: 38px;\n        text-align: center;\n        cursor: default;\n    }\n\n    .timeouter-timer__text {\n        font-size: 30px;\n        margin-left: 10px;\n        cursor: default;\n    }\n\n    .timeouter-timer__count {\n        font-size: 30px;\n        cursor: default;\n    }\n\n    .timeouter-modal-description {\n        text-align: center;\n        font-size: 15px;\n        cursor: default;\n    }\n\n    .timeouter-modal-discount-box {\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n        justify-content: space-between;\n        font-size: 30px;\n        margin-top: 29px;\n        line-height: 0px;\n    }\n\n    .timeouter-modal-card-content {\n        display: flex;\n        align-items: stretch;\n        justify-content: space-around;\n        flex-direction: column;\n    }\n\n    .timeouter-modal-discount {\n        font-weight: 600;\n    }\n\n    @keyframes openTimeouter {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    @media screen and (max-width: 800px) {\n        .timeouter-modal-card {\n            background: white;\n            width: 357px;\n            height: 500px;\n            display: flex;\n            gap: 2rem;\n            border-radius: 30px;\n            padding: 2rem;\n            position: relative;\n            justify-content: space-around;\n            flex-direction: column;\n            align-items: center;\n        }\n\n        .timeouter-modal-timer {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-left: 0px;\n        }\n\n        .timeouter-timer__item {\n            margin-top: -15px;\n        }\n\n        .timeouter-modal-card-content {\n            margin-top: -25px;\n        }\n\n        .timeouter-modal-button-box {\n            width: 50px;\n            height: 50px;\n            position: fixed;\n            margin-left: 357px;\n            margin-top: -490px;\n            background: #e4e4e4;\n            border-radius: 50px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n":modalStyle.textContent="\n    .timeouter-modal-window {\n        visibility: hidden;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        display: grid;\n        place-items: center;\n        background: rgb(0,0,0,0.4);\n        z-index: 99999999;\n    }\n\n    .timeouter-modal-card {\n        background: #2b2b2b;\n        width: 700px;\n        height: 300px;\n        display: flex;\n        align-item: center;\n        gap: 2rem;\n        border-radius: 30px;\n        padding: 2rem;\n        position: relative;\n        animation: openTimeouter 1s ease forwards;\n        justify-content: space-around;\n        flex-direction: row;\n    }\n\n    .timeouter-modal-button-box {\n        width: 50px;\n        height: 50px;\n        position: fixed;\n        margin-left: 695px;\n        margin-top: -40px;\n        background: #c5c5c5;\n        border-radius: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    }\n\n    .timeouter-modal-button-box:hover {\n        background: #b0b0b0;\n    }\n\n    .timeouter-modal-timer-box {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        max-width: 185px;\n        width: 300px;\n    }\n\n    .timeouter-modal-timer {\n        margin-left: 25px;\n    }\n\n    .timeouter-timer__item {\n        display: flex;\n        justify-content: flex-start;\n    }\n\n    .timeouter-modal-title {\n        font-size: 40px;\n        line-height: 38px;\n        text-align: center;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-timer__text {\n        font-size: 30px;\n        margin-left: 10px;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-timer__count {\n        font-size: 30px;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-modal-description {\n        text-align: center;\n        font-size: 15px;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-modal-discount-box {\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n        justify-content: space-between;\n        font-size: 30px;\n        margin-top: 29px;\n        line-height: 0px;\n    }\n\n    .timeouter-modal-discount {\n        font-weight: 600;\n        color: #FFFFFF;\n    }\n\n    .timeouter-modal-card-content {\n        display: flex;\n        align-items: stretch;\n        justify-content: space-around;\n        flex-direction: column;\n    }\n\n    @keyframes openTimeouter {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    @media screen and (max-width: 800px) {\n        .timeouter-modal-card {\n            background: #2b2b2b;\n            width: 357px;\n            display: flex;\n            gap: 2rem;\n            border-radius: 30px;\n            padding: 2rem;\n            position: relative;\n            justify-content: space-around;\n            flex-direction: column;\n            align-items: center;\n            height: 500px;\n        }\n\n        .timeouter-modal-timer {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-left: 0px;\n        }\n\n        .timeouter-timer__item {\n            margin-top: -15px;\n        }\n\n        .timeouter-modal-card-content {\n            margin-top: -25px;\n        }\n\n        .timeouter-modal-button-box {\n            width: 50px;\n            height: 50px;\n            position: fixed;\n            margin-left: 357px;\n            margin-top: -490px;\n            background: #c5c5c5;\n            border-radius: 50px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n";let modalButton="<div></div>",modalWindow=`<div class='timeouter-modal-window' id="timeouter-modal-window">\n    <div class="timeouter-modal-card">\n        <div class="timeouter-modal-button-box">\n            <small class="timeouter-modal-button-close">x</small>\n        </div>\n        <div class="timeouter-modal-timer-box">\n        <div class="timeouter-modal-timer">\n            <div class='timeouter-timer__item block__center'>\n                <div class='timeouter-timer__count days'></div>\n                <div class='timeouter-timer__text'>Days</div>\n            </div>\n            <div class='timeouter-timer__item block__center'>\n                <div class='timeouter-timer__count hours'></div>\n                <div class='timeouter-timer__text'>Hours</div>\n            </div>\n            <div class='timeouter-timer__item block__center'>\n                <div class='timeouter-timer__count minutes'></div>\n                <div class='timeouter-timer__text'>Minutes</div>\n            </div>\n            <div class='timeouter-timer__item block__center'>\n                 <div class='timeouter-timer__count seconds'></div>\n                 <div class='timeouter-timer__text'>Seconds</div>\n            </div>\n        </div>\n        </div>\n        <div class="timeouter-modal-card-content">\n            <h2 class="timeouter-modal-title">${title}</h2>\n            <p class="timeouter-modal-description">\n            ${description}\n            </p>\n            <div class="timeouter-modal-discount-box">\n                <p class="timeouter-modal-discount">${discount}</p>\n            </div>\n        </div>\n    </div>\n</div>`;const renderElement=n=>{const e=document.createElement("div");return e.innerHTML=n,e.firstChild};if(status){let n=0,e=0,t=startDate;if(1===duration?(n=864e5,e=startDate+n):3===duration?(n=2592e5,e=startDate+n):7===duration?(n=6048e5,e=startDate+n):30===duration&&(n=2592e6,e=startDate+n),Date.now()<e){document.head.appendChild(modalStyle),document.body.appendChild(renderElement(modalButton)),document.body.appendChild(renderElement(modalWindow));let e=document.querySelector(".timeouter-open-button"),i=document.querySelector(".timeouter-modal-button-box"),o=document.querySelector(".timeouter-modal-window");function getTimeRemaining(n){let e=Date.parse(n)-Date.parse(new Date),t=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:o,minutes:i,seconds:t}}function initializeClock(n,e){document.getElementById(n);let t=document.querySelector(".days"),i=document.querySelector(".hours"),o=document.querySelector(".minutes"),r=document.querySelector(".seconds");function d(){let n=getTimeRemaining(e);t.innerHTML=n.days,i.innerHTML=("0"+n.hours).slice(-2),o.innerHTML=("0"+n.minutes).slice(-2),r.innerHTML=("0"+n.seconds).slice(-2),n.total<=0&&clearInterval(a)}d();let a=setInterval(d,1e3)}e?.addEventListener("click",function(){o.style.visibility="visible",o.style.top="0px"}),i?.addEventListener("click",function(){o.style.visibility="hidden",o.style.top="0px"}),document?.addEventListener("click",function(n){n.target===o&&(o.style.visibility="hidden",o.style.top="0px")}),document?.addEventListener("click",function(n){n.target===o&&(o.style.visibility="hidden",o.style.top="0px")}),initializeClock("timeouter-modal-timer",new Date(t+n))}}
async function getProducts() {
    let response = await fetch('https://timeouter.inno.ws/api/timeouter/products',
        {
            method: 'GET',
            headers: {
                "Content-Type":"application/json",
                "X-Shopify-Access-Token": "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"

            }});

    if (response.ok) {

        let json = await response.json();
        console.log(json);
    } else {
        alert("Ошибка HTTP: " + response.status);
    }

}
getProducts();

let modalStyle=document.createElement("style");theme?modalStyle.textContent="\n    .timeouter-button-block {\n        position: fixed;\n        transform: rotate(90deg);\n        top: 44%;\n        left: -72px;\n        z-index: 99999999;\n    }\n\n    .timeouter-open-button {\n        padding: 12px 40px;\n        border-top-left-radius: 20px;\n        border-top-right-radius: 20px;\n        border: none;\n        background-color: rgb(66,66,66);\n        color: white;\n        font-size: 18px;\n        cursor: pointer;\n    }\n\n    .timeouter-open-button:hover {\n        background-color: rgb(18,18,18);\n    }\n\n    .timeouter-modal-window {\n        visibility: hidden;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        display: grid;\n        place-items: center;\n        background: rgb(0,0,0,0.4);\n        z-index: 99999999;\n    }\n\n    .timeouter-modal-card {\n        background: white;\n        width: 700px;\n        height: 300px;\n        display: flex;\n        align-item: center;\n        gap: 2rem;\n        border-radius: 30px;\n        padding: 2rem;\n        position: relative;\n        animation: openTimeouter 1s ease forwards;\n        justify-content: space-around;\n        flex-direction: row;\n    }\n\n    .timeouter-modal-button-box {\n        width: 50px;\n        height: 50px;\n        position: fixed;\n        margin-left: 695px;\n        margin-top: -45px;\n        background: #d4d4d4;\n        border-radius: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    }\n\n    .timeouter-modal-button-box:hover {\n        background: #cbcbcb;\n    }\n\n    .timeouter-modal-timer-box {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        max-width: 185px;\n        width: 300px;\n    }\n\n    .timeouter-modal-timer {\n        margin-left: 25px;\n    }\n\n    .timeouter-timer__item {\n        display: flex;\n        justify-content: flex-start;\n    }\n\n    .timeouter-modal-title {\n        font-size: 40px;\n        line-height: 38px;\n        text-align: center;\n        cursor: default;\n    }\n\n    .timeouter-timer__text {\n        font-size: 30px;\n        margin-left: 10px;\n        cursor: default;\n    }\n\n    .timeouter-timer__count {\n        font-size: 30px;\n        cursor: default;\n    }\n\n    .timeouter-modal-description {\n        text-align: center;\n        font-size: 15px;\n        cursor: default;\n    }\n\n    .timeouter-modal-discount-box {\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n        justify-content: space-between;\n        font-size: 30px;\n        margin-top: 29px;\n        line-height: 0px;\n    }\n\n    .timeouter-modal-card-content {\n        display: flex;\n        align-items: stretch;\n        justify-content: space-around;\n        flex-direction: column;\n    }\n\n    .timeouter-modal-discount {\n        font-weight: 600;\n    }\n\n    @keyframes openTimeouter {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    @media screen and (max-width: 800px) {\n        .timeouter-modal-card {\n            background: white;\n            width: 357px;\n            height: 500px;\n            display: flex;\n            gap: 2rem;\n            border-radius: 30px;\n            padding: 2rem;\n            position: relative;\n            justify-content: space-around;\n            flex-direction: column;\n            align-items: center;\n        }\n\n        .timeouter-modal-timer {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-left: 0px;\n        }\n\n        .timeouter-timer__item {\n            margin-top: -15px;\n        }\n\n        .timeouter-modal-card-content {\n            margin-top: -25px;\n        }\n\n        .timeouter-modal-button-box {\n            width: 50px;\n            height: 50px;\n            position: fixed;\n            margin-left: 357px;\n            margin-top: -490px;\n            background: #e4e4e4;\n            border-radius: 50px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n":modalStyle.textContent="\n    .timeouter-button-block {\n        position: fixed;\n        transform: rotate(90deg);\n        top: 44%;\n        left: -72px;\n        z-index: 99999999;\n    }\n\n    .timeouter-open-button {\n        padding: 12px 40px;\n        border-top-left-radius: 20px;\n        border-top-right-radius: 20px;\n        border: none;\n        background-color: rgb(66,66,66);\n        color: white;\n        font-size: 18px;\n        transition: 0.4s;\n        cursor: pointer;\n    }\n\n    .timeouter-open-button:hover {\n        background-color: rgb(18,18,18);\n        transition: 0.4s;\n    }\n\n    .timeouter-modal-window {\n        visibility: hidden;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        display: grid;\n        place-items: center;\n        background: rgb(0,0,0,0.4);\n        z-index: 99999999;\n    }\n\n    .timeouter-modal-card {\n        background: #2b2b2b;\n        width: 700px;\n        height: 300px;\n        display: flex;\n        align-item: center;\n        gap: 2rem;\n        border-radius: 30px;\n        padding: 2rem;\n        position: relative;\n        animation: openTimeouter 1s ease forwards;\n        justify-content: space-around;\n        flex-direction: row;\n    }\n\n    .timeouter-modal-button-box {\n        width: 50px;\n        height: 50px;\n        position: fixed;\n        margin-left: 695px;\n        margin-top: -45px;\n        background: #c5c5c5;\n        border-radius: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    }\n\n    .timeouter-modal-button-box:hover {\n        background: #b0b0b0;\n    }\n\n    .timeouter-modal-timer-box {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        max-width: 185px;\n        width: 300px;\n    }\n\n    .timeouter-modal-timer {\n        margin-left: 25px;\n    }\n\n    .timeouter-timer__item {\n        display: flex;\n        justify-content: flex-start;\n    }\n\n    .timeouter-modal-title {\n        font-size: 40px;\n        line-height: 38px;\n        text-align: center;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-timer__text {\n        font-size: 30px;\n        margin-left: 10px;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-timer__count {\n        font-size: 30px;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-modal-description {\n        text-align: center;\n        font-size: 15px;\n        cursor: default;\n        color: #FFFFFF;\n    }\n\n    .timeouter-modal-discount-box {\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n        justify-content: space-between;\n        font-size: 30px;\n        margin-top: 29px;\n        line-height: 0px;\n    }\n\n    .timeouter-modal-discount {\n        font-weight: 600;\n        color: #FFFFFF;\n    }\n\n    .timeouter-modal-card-content {\n        display: flex;\n        align-items: stretch;\n        justify-content: space-around;\n        flex-direction: column;\n    }\n\n    @keyframes openTimeouter {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    @media screen and (max-width: 800px) {\n        .timeouter-modal-card {\n            background: #2b2b2b;\n            width: 357px;\n            display: flex;\n            gap: 2rem;\n            border-radius: 30px;\n            padding: 2rem;\n            position: relative;\n            justify-content: space-around;\n            flex-direction: column;\n            align-items: center;\n            height: 500px;\n        }\n\n        .timeouter-modal-timer {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-left: 0px;\n        }\n\n        .timeouter-timer__item {\n            margin-top: -15px;\n        }\n\n        .timeouter-modal-card-content {\n            margin-top: -25px;\n        }\n\n        .timeouter-modal-button-box {\n            width: 50px;\n            height: 50px;\n            position: fixed;\n            margin-left: 357px;\n            margin-top: -490px;\n            background: #c5c5c5;\n            border-radius: 50px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n";let modalButton='<div class="timeouter-button-block">\n    <button class="timeouter-open-button">Special Offer</button>\n</div>',modalWindow=`<div class='timeouter-modal-window' id="timeouter-modal-window">\n    <div class="timeouter-modal-card">\n        <div class="timeouter-modal-button-box">\n            <small class="timeouter-modal-button-close">x</small>\n        </div>\n        <div class="timeouter-modal-timer-box">\n        <div class="timeouter-modal-timer">\n            <div class='timeouter-timer__item block__center'>\n                <div class='timeouter-timer__count days'></div>\n                <div class='timeouter-timer__text'>Days</div>\n            </div>\n            <div class='timeouter-timer__item block__center'>\n                <div class='timeouter-timer__count hours'></div>\n                <div class='timeouter-timer__text'>Hours</div>\n            </div>\n            <div class='timeouter-timer__item block__center'>\n                <div class='timeouter-timer__count minutes'></div>\n                <div class='timeouter-timer__text'>Minutes</div>\n            </div>\n            <div class='timeouter-timer__item block__center'>\n                 <div class='timeouter-timer__count seconds'></div>\n                 <div class='timeouter-timer__text'>Seconds</div>\n            </div>\n        </div>\n        </div>\n        <div class="timeouter-modal-card-content">\n            <h2 class="timeouter-modal-title">${title}</h2>\n            <p class="timeouter-modal-description">\n            ${description}\n            </p>\n            <div class="timeouter-modal-discount-box">\n                <p class="timeouter-modal-discount">${discount}</p>\n            </div>\n        </div>\n    </div>\n</div>`;const renderElement=n=>{const e=document.createElement("div");return e.innerHTML=n,e.firstChild};if(status){let n=0,e=0,t=startDate;if(1===duration?(n=864e5,e=startDate+n):3===duration?(n=2592e5,e=startDate+n):7===duration?(n=6048e5,e=startDate+n):30===duration&&(n=2592e6,e=startDate+n),Date.now()<e){document.head.appendChild(modalStyle),document.body.appendChild(renderElement(modalButton)),document.body.appendChild(renderElement(modalWindow));let e=document.querySelector(".timeouter-open-button"),i=document.querySelector(".timeouter-modal-button-box"),o=document.querySelector(".timeouter-modal-window");function getTimeRemaining(n){let e=Date.parse(n)-Date.parse(new Date),t=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:o,minutes:i,seconds:t}}function initializeClock(n,e){document.getElementById(n);let t=document.querySelector(".days"),i=document.querySelector(".hours"),o=document.querySelector(".minutes"),r=document.querySelector(".seconds");function d(){let n=getTimeRemaining(e);t.innerHTML=n.days,i.innerHTML=("0"+n.hours).slice(-2),o.innerHTML=("0"+n.minutes).slice(-2),r.innerHTML=("0"+n.seconds).slice(-2),n.total<=0&&clearInterval(a)}d();let a=setInterval(d,1e3)}e.addEventListener("click",function(){o.style.visibility="visible",o.style.top="0px"}),i.addEventListener("click",function(){o.style.visibility="hidden",o.style.top="0px"}),document.addEventListener("click",function(n){n.target===o&&(o.style.visibility="hidden",o.style.top="0px")}),document.addEventListener("click",function(n){n.target===o&&(o.style.visibility="hidden",o.style.top="0px")}),initializeClock("timeouter-modal-timer",new Date(t+n))}}
